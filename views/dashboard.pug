meta(charset="utf-8")
meta(name="viewport", content="width=device-width,initial-scale=1")
title MWF System Dashboard
// Chart.js CDN (for graphs) 
script(src="https://cdn.jsdelivr.net/npm/chart.js")
link(rel="stylesheet", href="./css/dashboard.css")

// Top Navbar
header.navbar.navbar-expand-lg.navbar-dark.bg-dark.shadow-sm
  .container-fluid
    a.navbar-brand(href="/dashboard") Mayondo Wood & Furniture Ltd
    button.navbar-toggler(type="button", data-bs-toggle="collapse", data-bs-target="#navbarNav", aria-controls="navbarNav", aria-expanded="false", aria-label="Toggle navigation")
      span.navbar-toggler-icon
    .collapse.navbar-collapse#navbarNav
      ul.navbar-nav.me-auto.mb-2.mb-lg-0
        li.nav-item
          a.nav-link.active(href="/dashboard") Dashboard
        li.nav-item
          a.nav-link(href="/stock") Add Stock
        li.nav-item
          a.nav-link(href="/stocklist") Stock List
        li.nav-item
          a.nav-link(href="/sales") Add Sales
        li.nav-item
          a.nav-link(href="/saleslist") Sales List
        li.nav-item
          a.nav-link(href="/users") Users
        li.nav-item
          a.nav-link(href="/reports") Reports
      ul.navbar-nav.ms-auto
        li.nav-item
          span.nav-link#userGreeting Welcome
        li.nav-item
          button#logoutBtn.btn.btn-primary.ms-2 Logout

// Main content
main.main.container.mt-4
  section.kpi-row.d-flex.flex-wrap.g-3
    .kpi.card.flex-fill
      .kpi-title Total Stock Items
      #kpiTotalStock.kpi-value —
    .kpi.card.flex-fill
      .kpi-title Sales Today
      #kpiSalesToday.kpi-value —
    .kpi.card.flex-fill
      .kpi-title Sales This Month
      #kpiSalesMonth.kpi-value —
    .kpi.card.flex-fill
      .kpi-title Low Stock Alerts
      #kpiLowStock.kpi-value —

  section.widgets.row.mt-4
    .left-col.col-lg-6.mb-3
      .card.mb-3
        .card-header
          h3 Recent Sales
          small Last 5 sales
        .card-body
          table.table#recentSalesTable
            thead
              tr
                th Customer
                th Product
                th Qty
                th Total
                th Date
            tbody
              // Filled by JS
      .card
        .card-header
          h3 Low Stock Items
        .card-body#lowStockList
          // Filled by JS

    .right-col.col-lg-6.mb-3
      .card.mb-3
        .card-header
          h3 Sales Trend (Last 30 days)
        .card-body
          canvas#salesTrendChart(height="200")
      .card
        .card-header
          h3 Stock Composition
        .card-body
          canvas#stockPieChart(height="200")

script(src="js/dashboard.js")
script(src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js")
